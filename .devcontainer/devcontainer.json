{
  "name": "asigna-env",
  "image": "mcr.microsoft.com/devcontainers/miniconda:0-3",

  "onCreateCommand": "bash -lc 'set -e; eval \"$(conda shell.bash hook)\"; if conda env list | grep -q \"^asigna\\s\"; then conda env update -n asigna -f environment.yml; else conda env create -n asigna -f environment.yml || conda env update -n asigna -f environment.yml; fi; conda clean -a -y'",

  "postCreateCommand": "bash -lc 'set -e; eval \"$(conda shell.bash hook)\"; conda activate asigna; python -m ipykernel install --user --name asigna --display-name \"Python (asigna)\"; echo Environment ready'",

  "customizations": {
    "vscode": {
      "settings": {
        "python.defaultInterpreterPath": "/opt/conda/envs/asigna/bin/python",
        "jupyter.kernelPickerType": "Insiders"
      },
      "extensions": [
        "ms-python.python",
        "ms-toolsai.jupyter"
      ]
    }
  }
}
